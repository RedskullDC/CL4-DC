head	1.1;
access;
symbols;
locks
	leslie:1.1; strict;
comment	@ * @;


1.1
date	2015.01.07.01.53.50;	author leslie;	state Exp;
branches;
next	;


desc
@initial checkin
@


1.1
log
@Initial revision
@
text
@#ifndef ROWSIZ_C
#define ROWSIZ_C

#include "DBdefs.h"
#include "cl4.h"
#include "lvarnames.h"			// for bit field values

int _rowsize(TDef *tdef)		// *maximum* size in bytes required to store a "row"
{
	int i; 

	for ( i = 0; tdef->TDFentry; ++tdef )
		i += tdef->TDFsize;
	return i;
}

int _rowmin(TDef *tdef)		// *minimum* size in bytes required to store a "row"
{
	int v2;

	for ( v2 = 0; tdef->TDFentry ; tdef++ )
	{
		if ( tdef->TDFtype & tdf_STRING )
			v2++;	// string field = 1 char for \0 byte if string blank
		else
			v2 += tdef->TDFsize;
	}
	return v2;
}

#endif
@
